{"version":3,"sources":["services/login.js","services/token.js","services/register.js","services/tables.js","services/goalService.js","components/NewGoalForm.js","services/specialGoal.js","components/GoalList.js","components/NewTableForm.js","components/TableList.js","App.js","index.js"],"names":["login","credentials","a","axios","post","response","data","console","error","token","newToken","register","getTableList","userID","get","user","personalTables","createTable","tableObj","config","headers","Authorization","tokenService","newTable","getGoalsList","tableID","table","goals","getGoalsByID","goalIDs","Promise","all","map","id","goalsData","goal","addGoal","newGoalObj","deleteGoal","delete","NewGoalForm","handleSubmitGoal","title","handleTitle","handleGoal","onSubmit","type","value","name","onChange","target","required","goalObj","toLowerCase","includes","description","confetti","particleCount","spread","origin","y","GoalList","useState","setGoals","setGoal","setTitle","useEffect","GoalService","initialGoalIDs","log","initialGoals","loadGoals","event","preventDefault","author","parentTable","newGoal","concat","SpecialService","handleDelete","newGoals","filter","key","style","border","onClick","float","NewTableForm","handleCreateTable","TableList","tables","setTables","newTitle","TableService","initialTables","loadTables","App","username","setUsername","password","setPassword","setUser","registerName","setRegisterName","registerUsername","setRegisterUsername","registerPassword","setRegisterPassword","loggedUser","window","localStorage","getItem","JSON","parse","handleLogin","loginService","setItem","stringify","handleLogout","removeItem","handleRegister","registerService","className","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.db652bb0.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/login'\n\nconst login = async credentials => {\n  try {\n\n      const response = await axios.post(baseUrl, credentials)\n      return response.data\n\n  } catch (exception){\n    console.error(\"Exception occured in login service: \", exception)\n  }\n}\n\nexport default { login }\n","let token = null\n\nconst setToken = newToken =>{\n  token = `bearer ${newToken}`\n}\n\nconst getToken = () =>{\n  return token\n}\n\nexport default {setToken, getToken, token}\n","import axios from 'axios'\nconst baseUrl = '/api/users'\n\nconst register = async credentials => {\n  try {\n\n      const response = await axios.post(baseUrl, credentials)\n      return response.data\n\n  } catch (exception){\n    console.error(\"Exception occured in registration service: \", exception)\n  }\n}\n\nexport default { register }\n","import axios from 'axios'\nimport tokenService from './token'\nconst baseUrl = '/api/users'\nconst tableBaseUrl = '/api/tables'\n\nconst getTableList = async (userID) => {\n  try{\n\n      const user = await axios.get(`${baseUrl}/${userID}`)\n      const { data } = user\n      return await data.personalTables\n\n  } catch (exception){\n    console.error(\"Exception occured in getTableList service: \", exception)\n  }\n}\n\nconst createTable = async (tableObj) => {\n  try{\n    const config = {\n      headers: {Authorization: tokenService.getToken()}\n    }\n\n      const newTable = await axios.post(tableBaseUrl, tableObj, config)\n      return newTable.data\n\n  } catch (exception){\n    console.error(\"Exception occureed in create Table service fe: \", exception)\n  }\n}\n\nexport default { getTableList, createTable }\n","import axios from 'axios'\nimport tokenService from './token'\nconst baseTableUrl = '/api/tables'\nconst baseGoalUrl = '/api/goals'\n\nconst getGoalsList = async (tableID) => {\n  try{\n\n      const table = await axios.get(`${baseTableUrl}/${tableID}`)\n      const { data } = table\n      return data.goals\n\n  } catch (exception){\n    console.error(\"Exception occured in getGoalsList service: \", exception)\n  }\n}\n\nconst getGoalsByID = async (goalIDs) => {\n  try{\n\n      const goals = await Promise.all(goalIDs.map(id => axios.get(`${baseGoalUrl}/${id}`)))\n      const goalsData = goals.map(goal => goal.data)\n      return goalsData\n\n  } catch (exception){\n    console.error(\"Exception occured in getGoalsByID service: \", exception)\n  }\n}\n\nconst addGoal = async (newGoalObj) => {\n  try{\n    const config = {\n      headers: {Authorization: tokenService.getToken()}\n    }\n\n    const response = await axios.post(baseGoalUrl, newGoalObj, config)\n    return response.data\n  } catch (exception){\n    console.error(\"Exception occured in addGoal: \", exception)\n  }\n}\n\nconst deleteGoal = async (id) => {\n  try{\n\n    const config = {\n      headers: {Authorization: tokenService.getToken()}\n    }\n    \n    const response = await axios.delete(`${baseGoalUrl}/${id}`, config)\n    return response\n\n  } catch (exception){\n    console.error(\"Excpetion occured in delete Goal service:\", exception)\n  }\n}\n\nexport default { getGoalsList, getGoalsByID, addGoal, deleteGoal }\n","import React from 'react';\n\nconst NewGoalForm = ({handleSubmitGoal, title, handleTitle, goal, handleGoal}) => {\n\n  return(\n    <form onSubmit={handleSubmitGoal}>\n    Title:\n    <input\n      type=\"text\"\n      value={title}\n      name=\"Title\"\n      onChange={({ target }) => handleTitle(target.value)}\n      required\n    />\n    New Goal:\n    <input\n      type=\"text\"\n      value={goal}\n      name=\"New Goal\"\n      onChange={({ target }) => handleGoal(target.value)}\n      required\n    />\n    <button type=\"submit\">add</button>\n    </form>\n  )\n}\n\nexport default NewGoalForm\n","import confetti from 'canvas-confetti'\n\nconst checkSpecialGoal = (goalObj) => {\n\n  if(goalObj.title.toLowerCase().includes(\"birthday\") || goalObj.description.toLowerCase().includes(\"birthday\")){\n    confetti({\n      particleCount: 100,\n      spread: 70,\n      origin: { y: 0.6 }\n    });\n  }\n}\n\nexport default { checkSpecialGoal }\n","import React, {useState, useEffect} from 'react';\nimport GoalService from '../services/goalService'\nimport NewGoalForm from './NewGoalForm'\nimport SpecialService from '../services/specialGoal'\n\nconst GoalList = ({ user, tableID }) => {\n\n  const [goals, setGoals] = useState([])\n  const [goal, setGoal] = useState('')\n  const [title, setTitle] = useState('')\n\n  useEffect(() => {\n\n    async function loadGoals (){\n      try{\n        // if (tableID){\n          const initialGoalIDs = await GoalService.getGoalsList(tableID)\n          console.log(\"INTIAL GOALS IDS: \", initialGoalIDs)\n          const initialGoals = await GoalService.getGoalsByID(initialGoalIDs)\n          console.log(\"INITIAL GOALS:\", initialGoals)\n          // const initialBlogs = await Promise.all(initialBlogIds.map(id => blogService.getById(id)))\n          setGoals(initialGoals)\n        // }\n      } catch(exception){\n        console.log(\"Exception occured in Goals component useEffect: \", exception)\n      }\n    }\n    loadGoals()\n\n    return function cleanup(){\n      // Need to update this to avoid memory leak and cancel all subscriptions and async tasks in useEffect\n      setGoals([])\n    }\n\n  },[tableID])\n\n  const handleSubmitGoal = async (event) => {\n    event.preventDefault()\n    try{\n      const goalObj = {\n        author:user.id,\n        title:title,\n        description:goal,\n        parentTable:tableID,\n      }\n\n      const newGoal = await GoalService.addGoal(goalObj)\n      // console.log(newGoal)\n\n      setGoals(goals.concat(newGoal))\n      setTitle('')\n      setGoal('')\n\n      SpecialService.checkSpecialGoal(newGoal);\n\n    } catch (exception){\n      console.error(\"Exception occured in handling New Goal: \", exception)\n    }\n  }\n\n  const handleDelete = async (id) => {\n    try{\n      await GoalService.deleteGoal(id)\n\n      const newGoals = goals.filter(goal => goal.id !== id)\n      setGoals(newGoals)\n\n    }catch (exception){\n      console.error(\"Exception occured in deleting goal frontend: \", exception)\n    }\n  }\n\n  if(tableID && goals){\n    return(\n      <>\n      <tr>\n        <td>\n          <NewGoalForm handleSubmitGoal={handleSubmitGoal} title={title} handleTitle={setTitle} goal={goal} handleGoal={setGoal}/>\n        </td>\n      </tr>\n      {goals.map(goal => <tr key={goal.id}><td key={goal.id} style={{border:'1px solid #34dbeb'}}> <b>{goal.title}</b>: {goal.description}\n      {goal.author===user.id ? <button onClick={() => handleDelete(goal.id)} style={{float: 'right'}}>delete</button> :null}\n      </td></tr>)}\n      </>\n      )\n  }\n  else{\n    return(<tr></tr>)\n  }\n\n}\n\nexport default GoalList\n","import React from 'react';\n\nconst NewTableForm = ({handleCreateTable, title, handleTitle}) => {\n\n  return(\n    <>\n    <h3> Create new Table </h3>\n    <form onSubmit={handleCreateTable}>\n    New Table Title:\n    <input\n      type=\"text\"\n      value={title}\n      name=\"Title\"\n      onChange={({ target }) => handleTitle(target.value)}\n      required\n    />\n    <button type=\"submit\">create</button>\n    </form>\n    </>\n  )\n}\n\nexport default NewTableForm\n","import React, {useState, useEffect} from 'react'\nimport TableService from '../services/tables'\nimport GoalList from './GoalList'\nimport NewTableForm from './NewTableForm'\n\nconst TableList = ({ user }) => {\n\n  const [tables, setTables] = useState([])\n  const [newTitle, setTitle] = useState('')\n\n  useEffect(() => {\n\n    async function loadTables (){\n      try{\n        if (user){\n          const initialTables = await TableService.getTableList(user.id)\n          // const initialBlogs = await Promise.all(initialBlogIds.map(id => blogService.getById(id)))\n          setTables(initialTables)\n        }\n      } catch(exception){\n        console.log(\"Exception occured in useEffect: \", exception)\n      }\n    }\n    loadTables()\n\n    return function cleanup(){\n      // Need to update this to avoid memory leak and cancel all subscriptions and async tasks in useEffect\n      setTables([])\n    }\n\n  },[user])\n\n  const handleCreateTable = async (event) => {\n    event.preventDefault()\n\n    try{\n\n      const tableObj = {\n        title: newTitle\n      }\n\n      const newTable = await TableService.createTable(tableObj)\n      setTables(tables.concat(newTable.id))\n      setTitle('')\n\n    } catch(exception){\n      console.error(\"Exception occureed in create table Tablelist component: \", exception)\n    }\n\n  }\n\n  if(user && tables){\n    return(\n      <>\n        <NewTableForm handleCreateTable={handleCreateTable} title={newTitle} handleTitle={setTitle}/>\n        <div>\n          <h3> Your Tables</h3>\n          {tables.map(tableID =>\n            <table key={tableID} style={{border:'1px solid #dddddd'}}>\n            <tbody>\n            <tr>\n              <th>TABLE: {tableID}</th>\n            </tr>\n            <GoalList user={user} tableID={tableID} />\n            </tbody>\n            </table>\n          )}\n        </div>\n      </>\n      )\n  }\n  else{\n    return(<div></div>)\n  }\n\n}\n\nexport default TableList\n","import React, {useState, useEffect} from 'react';\nimport loginService from './services/login'\nimport tokenService from './services/token'\nimport registerService from './services/register'\nimport TableList from './components/TableList'\n\nfunction App() {\n\n  const [username, setUsername] = useState('')\n  const [password, setPassword] = useState('')\n  const [user, setUser] = useState(null)\n\n  const [registerName, setRegisterName] = useState('')\n  const [registerUsername, setRegisterUsername] = useState('')\n  const [registerPassword, setRegisterPassword] = useState('')\n\n  useEffect(() => {\n    const loggedUser = window.localStorage.getItem('loggedUser')\n    if(loggedUser) {\n      const user = JSON.parse(loggedUser)\n      setUser(user)\n      tokenService.setToken(user.token)\n    }\n\n  }, [])\n\n  const handleLogin = async (event) => {\n    event.preventDefault()\n    try {\n      const user = await loginService.login({\n        username, password,\n      })\n\n      console.log(user.username, \" logged in\")\n      window.localStorage.setItem(\n        'loggedUser', JSON.stringify(user)\n      )\n\n      tokenService.setToken(user.token)\n      setUser(user)\n      setUsername('')\n      setPassword('')\n\n    } catch (exception) {\n      console.error(\"Exception occured in handlelogin frontend: \", exception)\n    }\n  }\n\n  const handleLogout = () => {\n    window.localStorage.removeItem('loggedUser')\n    setUser(null)\n  }\n\n  const handleRegister = async (event) => {\n    event.preventDefault()\n\n    try{\n\n      const user = await registerService.register({'username': registerUsername, 'name': registerName, 'password': password})\n      console.log(\"User Registered: \", user.username)\n\n      setRegisterName('')\n      setRegisterUsername('')\n      setRegisterPassword('')\n\n    } catch(exception){\n      console.error(\"Exception in registration fe: \", exception)\n    }\n  }\n\n  const registerForm = () => (\n    <form onSubmit={handleRegister}>\n      <h2>Register</h2>\n      <div>\n        Your Name\n          <input\n            type=\"text\"\n            value={registerName}\n            name=\"Username\"\n            onChange={({ target }) => setRegisterName(target.value)}\n            required\n          />\n      </div>\n      <div>\n        Username\n          <input\n            type=\"text\"\n            value={registerUsername}\n            name=\"Username\"\n            onChange={({ target }) => setRegisterUsername(target.value)}\n            required\n          />\n      </div>\n      <div>\n        password\n          <input\n            type=\"password\"\n            value={registerPassword}\n            name=\"Password\"\n            onChange={({ target }) => setRegisterPassword(target.value)}\n            required\n          />\n      </div>\n      <button type=\"submit\">register</button>\n    </form>\n  )\n\n  const loginForm = () => (\n    <form onSubmit={handleLogin}>\n      <h2>Login</h2>\n      <div>\n        username\n          <input\n            type=\"text\"\n            value={username}\n            name=\"Username\"\n            onChange={({ target }) => setUsername(target.value)}\n            required\n          />\n      </div>\n      <div>\n        password\n          <input\n            type=\"password\"\n            value={password}\n            name=\"Password\"\n            onChange={({ target }) => setPassword(target.value)}\n            required\n          />\n      </div>\n      <button type=\"submit\">login</button>\n    </form>\n  )\n\n  const homePage = () => {\n    return(\n      <>\n      {loginForm()}\n      {registerForm()}\n      </>\n    )\n  }\n\n  const userInfo = () => (\n    <div>\n      {user.username} logged in\n      <button onClick={handleLogout}>Logout</button>\n    </div>\n  )\n\n  return (\n    <div className=\"App\">\n      <h1>Geddit!</h1>\n      <div>\n        {user === null ? homePage(): userInfo()}\n        <TableList user = {user} />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}